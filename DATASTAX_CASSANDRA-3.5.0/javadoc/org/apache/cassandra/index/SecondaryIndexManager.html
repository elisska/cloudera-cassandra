<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Wed Apr 13 18:09:35 UTC 2016 -->
<title>SecondaryIndexManager (apache-cassandra API)</title>
<meta name="date" content="2016-04-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SecondaryIndexManager (apache-cassandra API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":9,"i15":9,"i16":9,"i17":9,"i18":10,"i19":10,"i20":10,"i21":9,"i22":9,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecondaryIndexManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/index/SecondaryIndexBuilder.html" title="class in org.apache.cassandra.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/index/TargetParser.html" title="class in org.apache.cassandra.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/index/SecondaryIndexManager.html" target="_top">Frames</a></li>
<li><a href="SecondaryIndexManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.cassandra.index</div>
<h2 title="Class SecondaryIndexManager" class="title">Class SecondaryIndexManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.cassandra.index.SecondaryIndexManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/apache/cassandra/index/IndexRegistry.html" title="interface in org.apache.cassandra.index">IndexRegistry</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">SecondaryIndexManager</span>
extends java.lang.Object
implements <a href="../../../../org/apache/cassandra/index/IndexRegistry.html" title="interface in org.apache.cassandra.index">IndexRegistry</a></pre>
<div class="block">Handles the core maintenance functionality associated with indexes: adding/removing them to or from
 a table, (re)building during bootstrap or other streaming operations, flushing, reloading metadata
 and so on.

 The Index interface defines a number of methods which return Callable<?>. These are primarily the
 management tasks for an index implementation. Most of them are currently executed in a blocking
 fashion via submission to SIM's blockingExecutor. This provides the desired behaviour in pretty
 much all cases, as tasks like flushing an index needs to be executed synchronously to avoid potentially
 deadlocking on the FlushWriter or PostFlusher. Several of these Callable<?> returning methods on Index could
 then be defined with as void and called directly from SIM (rather than being run via the executor service).
 Separating the task defintion from execution gives us greater flexibility though, so that in future, for example,
 if the flush process allows it we leave open the possibility of executing more of these tasks asynchronously.

 The primary exception to the above is the Callable returned from Index#addIndexedColumn. This may
 involve a significant effort, building a new index over any existing data. We perform this task asynchronously;
 as it is called as part of a schema update, which we do not want to block for a long period. Building non-custom
 indexes is performed on the CompactionManager.

 This class also provides instances of processors which listen to updates to the base table and forward to
 registered Indexes the info required to keep those indexes up to date.
 There are two variants of these processors, each with a factory method provided by SIM:
      IndexTransaction: deals with updates generated on the regular write path.
      CleanupTransaction: used when partitions are modified during compaction or cleanup operations.
 Further details on their usage and lifecycles can be found in the interface definitions below.

 Finally, the bestIndexFor method is used at query time to identify the most selective index of those able
 to satisfy any search predicates defined by a ReadCommand's RowFilter. It returns a thin IndexAccessor object
 which enables the ReadCommand to access the appropriate functions of the Index at various stages in its lifecycle.
 e.g. the getEstimatedResultRows is required when StorageProxy calculates the initial concurrency factor for
 distributing requests to replicas, whereas a Searcher instance is needed when the ReadCommand is executed locally on
 a target replica.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#baseCfs">baseCfs</a></span></code>
<div class="block">The underlying column family containing the source data for these indexes</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#SecondaryIndexManager-org.apache.cassandra.db.ColumnFamilyStore-">SecondaryIndexManager</a></span>(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;baseCfs)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.concurrent.Future&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#addIndex-org.apache.cassandra.schema.IndexMetadata-">addIndex</a></span>(<a href="../../../../org/apache/cassandra/schema/IndexMetadata.html" title="class in org.apache.cassandra.schema">IndexMetadata</a>&nbsp;indexDef)</code>
<div class="block">Adds and builds a index</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#buildAllIndexesBlocking-java.util.Collection-">buildAllIndexesBlocking</a></span>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/io/sstable/format/SSTableReader.html" title="class in org.apache.cassandra.io.sstable.format">SSTableReader</a>&gt;&nbsp;sstables)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#buildIndexBlocking-org.apache.cassandra.index.Index-">buildIndexBlocking</a></span>(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#deletePartition-org.apache.cassandra.db.rows.UnfilteredRowIterator-int-">deletePartition</a></span>(<a href="../../../../org/apache/cassandra/db/rows/UnfilteredRowIterator.html" title="interface in org.apache.cassandra.db.rows">UnfilteredRowIterator</a>&nbsp;partition,
               int&nbsp;nowInSec)</code>
<div class="block">Delete all data from all indexes for this partition.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#flushAllIndexesBlocking--">flushAllIndexesBlocking</a></span>()</code>
<div class="block">Perform a blocking flush all indexes</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#flushAllNonCFSBackedIndexesBlocking--">flushAllNonCFSBackedIndexesBlocking</a></span>()</code>
<div class="block">Performs a blocking flush of all custom indexes</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#flushIndexesBlocking-java.util.Set-">flushIndexesBlocking</a></span>(java.util.Set&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;&nbsp;indexes)</code>
<div class="block">Perform a blocking flush of selected indexes</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getAllIndexColumnFamilyStores--">getAllIndexColumnFamilyStores</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getBestIndexFor-org.apache.cassandra.db.ReadCommand-">getBestIndexFor</a></span>(<a href="../../../../org/apache/cassandra/db/ReadCommand.html" title="class in org.apache.cassandra.db">ReadCommand</a>&nbsp;command)</code>
<div class="block">Called at query time to choose which (if any) of the registered index implementations to use for a given query.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getBestIndexFor-org.apache.cassandra.db.filter.RowFilter.Expression-">getBestIndexFor</a></span>(<a href="../../../../org/apache/cassandra/db/filter/RowFilter.Expression.html" title="class in org.apache.cassandra.db.filter">RowFilter.Expression</a>&nbsp;expression)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getBuiltIndexNames--">getBuiltIndexNames</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../org/apache/cassandra/schema/IndexMetadata.html" title="class in org.apache.cassandra.schema">IndexMetadata</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getDependentIndexes-org.apache.cassandra.config.ColumnDefinition-">getDependentIndexes</a></span>(<a href="../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&nbsp;column)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getIndex-org.apache.cassandra.schema.IndexMetadata-">getIndex</a></span>(<a href="../../../../org/apache/cassandra/schema/IndexMetadata.html" title="class in org.apache.cassandra.schema">IndexMetadata</a>&nbsp;metadata)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getIndexByName-java.lang.String-">getIndexByName</a></span>(java.lang.String&nbsp;indexName)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getIndexName-org.apache.cassandra.db.ColumnFamilyStore-">getIndexName</a></span>(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;cfs)</code>
<div class="block">Returns the index name</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getIndexName-java.lang.String-">getIndexName</a></span>(java.lang.String&nbsp;cfName)</code>
<div class="block">Returns the index name</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getParentCfs-org.apache.cassandra.db.ColumnFamilyStore-">getParentCfs</a></span>(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;cfs)</code>
<div class="block">Returns the parent of the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a>.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#getParentCfsName-java.lang.String-">getParentCfsName</a></span>(java.lang.String&nbsp;cfName)</code>
<div class="block">Returns the parent name of the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a>.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#hasIndexes--">hasIndexes</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#indexPartition-org.apache.cassandra.db.rows.UnfilteredRowIterator-org.apache.cassandra.utils.concurrent.OpOrder.Group-java.util.Set-int-">indexPartition</a></span>(<a href="../../../../org/apache/cassandra/db/rows/UnfilteredRowIterator.html" title="interface in org.apache.cassandra.db.rows">UnfilteredRowIterator</a>&nbsp;partition,
              <a href="../../../../org/apache/cassandra/utils/concurrent/OpOrder.Group.html" title="class in org.apache.cassandra.utils.concurrent">OpOrder.Group</a>&nbsp;opGroup,
              java.util.Set&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;&nbsp;indexes,
              int&nbsp;nowInSec)</code>
<div class="block">When building an index against existing data in sstables, add the given partition to the index</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#invalidateAllIndexesBlocking--">invalidateAllIndexesBlocking</a></span>()</code>
<div class="block">Remove all indexes</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#isIndexColumnFamily-java.lang.String-">isIndexColumnFamily</a></span>(java.lang.String&nbsp;cfName)</code>
<div class="block">Checks if the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a> is the one secondary index.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#isIndexColumnFamilyStore-org.apache.cassandra.db.ColumnFamilyStore-">isIndexColumnFamilyStore</a></span>(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;cfs)</code>
<div class="block">Checks if the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a> is a secondary index.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#isIndexQueryable-org.apache.cassandra.index.Index-">isIndexQueryable</a></span>(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</code>
<div class="block">Checks if the specified index is queryable.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#listIndexes--">listIndexes</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#markAllIndexesRemoved--">markAllIndexesRemoved</a></span>()</code>
<div class="block">Called when dropping a Table</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#markIndexBuilt-java.lang.String-">markIndexBuilt</a></span>(java.lang.String&nbsp;indexName)</code>
<div class="block">Marks the specified index as build.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#markIndexRemoved-java.lang.String-">markIndexRemoved</a></span>(java.lang.String&nbsp;indexName)</code>
<div class="block">Marks the specified index as removed.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/index/transactions/CleanupTransaction.html" title="interface in org.apache.cassandra.index.transactions">CleanupTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#newCleanupTransaction-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.PartitionColumns-int-">newCleanupTransaction</a></span>(<a href="../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                     <a href="../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;partitionColumns,
                     int&nbsp;nowInSec)</code>
<div class="block">Transaction for use when removing partitions during cleanup</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/index/transactions/CompactionTransaction.html" title="interface in org.apache.cassandra.index.transactions">CompactionTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#newCompactionTransaction-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.PartitionColumns-int-int-">newCompactionTransaction</a></span>(<a href="../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                        <a href="../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;partitionColumns,
                        int&nbsp;versions,
                        int&nbsp;nowInSec)</code>
<div class="block">Transaction for use when merging rows during compaction</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/index/transactions/UpdateTransaction.html" title="interface in org.apache.cassandra.index.transactions">UpdateTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#newUpdateTransaction-org.apache.cassandra.db.partitions.PartitionUpdate-org.apache.cassandra.utils.concurrent.OpOrder.Group-int-">newUpdateTransaction</a></span>(<a href="../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;update,
                    <a href="../../../../org/apache/cassandra/utils/concurrent/OpOrder.Group.html" title="class in org.apache.cassandra.utils.concurrent">OpOrder.Group</a>&nbsp;opGroup,
                    int&nbsp;nowInSec)</code>
<div class="block">Transaction for updates on the write path.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#rebuildIndexesBlocking-java.util.Collection-java.util.Set-">rebuildIndexesBlocking</a></span>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/io/sstable/format/SSTableReader.html" title="class in org.apache.cassandra.io.sstable.format">SSTableReader</a>&gt;&nbsp;sstables,
                      java.util.Set&lt;java.lang.String&gt;&nbsp;indexNames)</code>
<div class="block">Does a full, blocking rebuild of the indexes specified by columns from the sstables.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#registerIndex-org.apache.cassandra.index.Index-">registerIndex</a></span>(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</code>
<div class="block">IndexRegistry methods</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#reload--">reload</a></span>()</code>
<div class="block">Drops and adds new indexes associated with the underlying CF</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#removeIndex-java.lang.String-">removeIndex</a></span>(java.lang.String&nbsp;indexName)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#truncateAllIndexesBlocking-long-">truncateAllIndexesBlocking</a></span>(long&nbsp;truncatedAt)</code>
<div class="block">Truncate all indexes</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#unregisterIndex-org.apache.cassandra.index.Index-">unregisterIndex</a></span>(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</code>&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/index/SecondaryIndexManager.html#validate-org.apache.cassandra.db.partitions.PartitionUpdate-">validate</a></span>(<a href="../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;update)</code>
<div class="block">Called at write time to ensure that values present in the update
 are valid according to the rules of all registered indexes which
 will process it.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="baseCfs">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>baseCfs</h4>
<pre>public final&nbsp;<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a> baseCfs</pre>
<div class="block">The underlying column family containing the source data for these indexes</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SecondaryIndexManager-org.apache.cassandra.db.ColumnFamilyStore-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SecondaryIndexManager</h4>
<pre>public&nbsp;SecondaryIndexManager(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;baseCfs)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="reload--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reload</h4>
<pre>public&nbsp;void&nbsp;reload()</pre>
<div class="block">Drops and adds new indexes associated with the underlying CF</div>
</li>
</ul>
<a name="addIndex-org.apache.cassandra.schema.IndexMetadata-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addIndex</h4>
<pre>public&nbsp;java.util.concurrent.Future&lt;?&gt;&nbsp;addIndex(<a href="../../../../org/apache/cassandra/schema/IndexMetadata.html" title="class in org.apache.cassandra.schema">IndexMetadata</a>&nbsp;indexDef)</pre>
<div class="block">Adds and builds a index</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexDef</code> - the IndexMetadata describing the index</dd>
</dl>
</li>
</ul>
<a name="isIndexQueryable-org.apache.cassandra.index.Index-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIndexQueryable</h4>
<pre>public&nbsp;boolean&nbsp;isIndexQueryable(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</pre>
<div class="block">Checks if the specified index is queryable.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the specified index is queryable, <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="removeIndex-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeIndex</h4>
<pre>public&nbsp;void&nbsp;removeIndex(java.lang.String&nbsp;indexName)</pre>
</li>
</ul>
<a name="getDependentIndexes-org.apache.cassandra.config.ColumnDefinition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDependentIndexes</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../org/apache/cassandra/schema/IndexMetadata.html" title="class in org.apache.cassandra.schema">IndexMetadata</a>&gt;&nbsp;getDependentIndexes(<a href="../../../../org/apache/cassandra/config/ColumnDefinition.html" title="class in org.apache.cassandra.config">ColumnDefinition</a>&nbsp;column)</pre>
</li>
</ul>
<a name="markAllIndexesRemoved--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAllIndexesRemoved</h4>
<pre>public&nbsp;void&nbsp;markAllIndexesRemoved()</pre>
<div class="block">Called when dropping a Table</div>
</li>
</ul>
<a name="rebuildIndexesBlocking-java.util.Collection-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebuildIndexesBlocking</h4>
<pre>public&nbsp;void&nbsp;rebuildIndexesBlocking(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/io/sstable/format/SSTableReader.html" title="class in org.apache.cassandra.io.sstable.format">SSTableReader</a>&gt;&nbsp;sstables,
                                   java.util.Set&lt;java.lang.String&gt;&nbsp;indexNames)</pre>
<div class="block">Does a full, blocking rebuild of the indexes specified by columns from the sstables.
 Caller must acquire and release references to the sstables used here.
 Note also that only this method of (re)building indexes:
   a) takes a set of index *names* rather than Indexers
   b) marks exsiting indexes removed prior to rebuilding</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sstables</code> - the data to build from</dd>
<dd><code>indexNames</code> - the list of indexes to be rebuilt</dd>
</dl>
</li>
</ul>
<a name="buildAllIndexesBlocking-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildAllIndexesBlocking</h4>
<pre>public&nbsp;void&nbsp;buildAllIndexesBlocking(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/io/sstable/format/SSTableReader.html" title="class in org.apache.cassandra.io.sstable.format">SSTableReader</a>&gt;&nbsp;sstables)</pre>
</li>
</ul>
<a name="buildIndexBlocking-org.apache.cassandra.index.Index-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildIndexBlocking</h4>
<pre>public&nbsp;void&nbsp;buildIndexBlocking(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</pre>
</li>
</ul>
<a name="isIndexColumnFamilyStore-org.apache.cassandra.db.ColumnFamilyStore-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIndexColumnFamilyStore</h4>
<pre>public static&nbsp;boolean&nbsp;isIndexColumnFamilyStore(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;cfs)</pre>
<div class="block">Checks if the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a> is a secondary index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cfs</code> - the <code>ColumnFamilyStore</code> to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the specified <code>ColumnFamilyStore</code> is a secondary index,
 <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="isIndexColumnFamily-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIndexColumnFamily</h4>
<pre>public static&nbsp;boolean&nbsp;isIndexColumnFamily(java.lang.String&nbsp;cfName)</pre>
<div class="block">Checks if the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a> is the one secondary index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cfName</code> - the name of the <code>ColumnFamilyStore</code> to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the specified <code>ColumnFamilyStore</code> is a secondary index,
 <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="getParentCfs-org.apache.cassandra.db.ColumnFamilyStore-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParentCfs</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;getParentCfs(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;cfs)</pre>
<div class="block">Returns the parent of the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cfs</code> - the <code>ColumnFamilyStore</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the parent of the specified <code>ColumnFamilyStore</code></dd>
</dl>
</li>
</ul>
<a name="getParentCfsName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParentCfsName</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getParentCfsName(java.lang.String&nbsp;cfName)</pre>
<div class="block">Returns the parent name of the specified <a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db"><code>ColumnFamilyStore</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cfName</code> - the <code>ColumnFamilyStore</code> name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the parent name of the specified <code>ColumnFamilyStore</code></dd>
</dl>
</li>
</ul>
<a name="getIndexName-org.apache.cassandra.db.ColumnFamilyStore-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexName</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getIndexName(<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&nbsp;cfs)</pre>
<div class="block">Returns the index name</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cfs</code> - the <code>ColumnFamilyStore</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the index name</dd>
</dl>
</li>
</ul>
<a name="getIndexName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexName</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getIndexName(java.lang.String&nbsp;cfName)</pre>
<div class="block">Returns the index name</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cfName</code> - the <code>ColumnFamilyStore</code> name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the index name</dd>
</dl>
</li>
</ul>
<a name="markIndexBuilt-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markIndexBuilt</h4>
<pre>public&nbsp;void&nbsp;markIndexBuilt(java.lang.String&nbsp;indexName)</pre>
<div class="block">Marks the specified index as build.
 <p>This method is public as it need to be accessible from the <a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index"><code>Index</code></a> implementations</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - the index name</dd>
</dl>
</li>
</ul>
<a name="markIndexRemoved-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markIndexRemoved</h4>
<pre>public&nbsp;void&nbsp;markIndexRemoved(java.lang.String&nbsp;indexName)</pre>
<div class="block">Marks the specified index as removed.
 <p>This method is public as it need to be accessible from the <a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index"><code>Index</code></a> implementations</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - the index name</dd>
</dl>
</li>
</ul>
<a name="getIndexByName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexByName</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;getIndexByName(java.lang.String&nbsp;indexName)</pre>
</li>
</ul>
<a name="truncateAllIndexesBlocking-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateAllIndexesBlocking</h4>
<pre>public&nbsp;void&nbsp;truncateAllIndexesBlocking(long&nbsp;truncatedAt)</pre>
<div class="block">Truncate all indexes</div>
</li>
</ul>
<a name="invalidateAllIndexesBlocking--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateAllIndexesBlocking</h4>
<pre>public&nbsp;void&nbsp;invalidateAllIndexesBlocking()</pre>
<div class="block">Remove all indexes</div>
</li>
</ul>
<a name="flushAllIndexesBlocking--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushAllIndexesBlocking</h4>
<pre>public&nbsp;void&nbsp;flushAllIndexesBlocking()</pre>
<div class="block">Perform a blocking flush all indexes</div>
</li>
</ul>
<a name="flushIndexesBlocking-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushIndexesBlocking</h4>
<pre>public&nbsp;void&nbsp;flushIndexesBlocking(java.util.Set&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;&nbsp;indexes)</pre>
<div class="block">Perform a blocking flush of selected indexes</div>
</li>
</ul>
<a name="flushAllNonCFSBackedIndexesBlocking--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushAllNonCFSBackedIndexesBlocking</h4>
<pre>public&nbsp;void&nbsp;flushAllNonCFSBackedIndexesBlocking()</pre>
<div class="block">Performs a blocking flush of all custom indexes</div>
</li>
</ul>
<a name="getBuiltIndexNames--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuiltIndexNames</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getBuiltIndexNames()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all indexes which are marked as built and ready to use</dd>
</dl>
</li>
</ul>
<a name="getAllIndexColumnFamilyStores--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllIndexColumnFamilyStores</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../org/apache/cassandra/db/ColumnFamilyStore.html" title="class in org.apache.cassandra.db">ColumnFamilyStore</a>&gt;&nbsp;getAllIndexColumnFamilyStores()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all backing Tables used by registered indexes</dd>
</dl>
</li>
</ul>
<a name="hasIndexes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasIndexes</h4>
<pre>public&nbsp;boolean&nbsp;hasIndexes()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if there are ANY indexes registered for this table</dd>
</dl>
</li>
</ul>
<a name="indexPartition-org.apache.cassandra.db.rows.UnfilteredRowIterator-org.apache.cassandra.utils.concurrent.OpOrder.Group-java.util.Set-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexPartition</h4>
<pre>public&nbsp;void&nbsp;indexPartition(<a href="../../../../org/apache/cassandra/db/rows/UnfilteredRowIterator.html" title="interface in org.apache.cassandra.db.rows">UnfilteredRowIterator</a>&nbsp;partition,
                           <a href="../../../../org/apache/cassandra/utils/concurrent/OpOrder.Group.html" title="class in org.apache.cassandra.utils.concurrent">OpOrder.Group</a>&nbsp;opGroup,
                           java.util.Set&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;&nbsp;indexes,
                           int&nbsp;nowInSec)</pre>
<div class="block">When building an index against existing data in sstables, add the given partition to the index</div>
</li>
</ul>
<a name="deletePartition-org.apache.cassandra.db.rows.UnfilteredRowIterator-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deletePartition</h4>
<pre>public&nbsp;void&nbsp;deletePartition(<a href="../../../../org/apache/cassandra/db/rows/UnfilteredRowIterator.html" title="interface in org.apache.cassandra.db.rows">UnfilteredRowIterator</a>&nbsp;partition,
                            int&nbsp;nowInSec)</pre>
<div class="block">Delete all data from all indexes for this partition.
 For when cleanup rips a partition out entirely.

 TODO : improve cleanup transaction to batch updates & perform them async</div>
</li>
</ul>
<a name="getBestIndexFor-org.apache.cassandra.db.ReadCommand-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBestIndexFor</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;getBestIndexFor(<a href="../../../../org/apache/cassandra/db/ReadCommand.html" title="class in org.apache.cassandra.db">ReadCommand</a>&nbsp;command)</pre>
<div class="block">Called at query time to choose which (if any) of the registered index implementations to use for a given query.

 This is a two step processes, firstly compiling the set of searchable indexes then choosing the one which reduces
 the search space the most.

 In the first phase, if the command's RowFilter contains any custom index expressions, the indexes that they
 specify are automatically included. Following that, the registered indexes are filtered to include only those
 which support the standard expressions in the RowFilter.

 The filtered set then sorted by selectivity, as reported by the Index implementations' getEstimatedResultRows
 method.

 Implementation specific validation of the target expression, either custom or standard, by the selected
 index should be performed in the searcherFor method to ensure that we pick the right index regardless of
 the validity of the expression.

 This method is only called once during the lifecycle of a ReadCommand and the result is
 cached for future use when obtaining a Searcher, getting the index's underlying CFS for
 ReadOrderGroup, or an estimate of the result size from an average index query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - ReadCommand to be executed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an Index instance, ready to use during execution of the command, or null if none
 of the registered indexes can support the command.</dd>
</dl>
</li>
</ul>
<a name="getBestIndexFor-org.apache.cassandra.db.filter.RowFilter.Expression-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBestIndexFor</h4>
<pre>public&nbsp;java.util.Optional&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;&nbsp;getBestIndexFor(<a href="../../../../org/apache/cassandra/db/filter/RowFilter.Expression.html" title="class in org.apache.cassandra.db.filter">RowFilter.Expression</a>&nbsp;expression)</pre>
</li>
</ul>
<a name="validate-org.apache.cassandra.db.partitions.PartitionUpdate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>public&nbsp;void&nbsp;validate(<a href="../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;update)
              throws <a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></pre>
<div class="block">Called at write time to ensure that values present in the update
 are valid according to the rules of all registered indexes which
 will process it. The partition key as well as the clustering and
 cell values for each row in the update may be checked by index
 implementations</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>update</code> - PartitionUpdate containing the values to be validated by registered Index implementations</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></code></dd>
</dl>
</li>
</ul>
<a name="registerIndex-org.apache.cassandra.index.Index-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerIndex</h4>
<pre>public&nbsp;void&nbsp;registerIndex(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</pre>
<div class="block">IndexRegistry methods</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html#registerIndex-org.apache.cassandra.index.Index-">registerIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html" title="interface in org.apache.cassandra.index">IndexRegistry</a></code></dd>
</dl>
</li>
</ul>
<a name="unregisterIndex-org.apache.cassandra.index.Index-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterIndex</h4>
<pre>public&nbsp;void&nbsp;unregisterIndex(<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;index)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html#unregisterIndex-org.apache.cassandra.index.Index-">unregisterIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html" title="interface in org.apache.cassandra.index">IndexRegistry</a></code></dd>
</dl>
</li>
</ul>
<a name="getIndex-org.apache.cassandra.schema.IndexMetadata-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndex</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&nbsp;getIndex(<a href="../../../../org/apache/cassandra/schema/IndexMetadata.html" title="class in org.apache.cassandra.schema">IndexMetadata</a>&nbsp;metadata)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html#getIndex-org.apache.cassandra.schema.IndexMetadata-">getIndex</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html" title="interface in org.apache.cassandra.index">IndexRegistry</a></code></dd>
</dl>
</li>
</ul>
<a name="listIndexes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listIndexes</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/apache/cassandra/index/Index.html" title="interface in org.apache.cassandra.index">Index</a>&gt;&nbsp;listIndexes()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html#listIndexes--">listIndexes</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/cassandra/index/IndexRegistry.html" title="interface in org.apache.cassandra.index">IndexRegistry</a></code></dd>
</dl>
</li>
</ul>
<a name="newUpdateTransaction-org.apache.cassandra.db.partitions.PartitionUpdate-org.apache.cassandra.utils.concurrent.OpOrder.Group-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newUpdateTransaction</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/index/transactions/UpdateTransaction.html" title="interface in org.apache.cassandra.index.transactions">UpdateTransaction</a>&nbsp;newUpdateTransaction(<a href="../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;update,
                                              <a href="../../../../org/apache/cassandra/utils/concurrent/OpOrder.Group.html" title="class in org.apache.cassandra.utils.concurrent">OpOrder.Group</a>&nbsp;opGroup,
                                              int&nbsp;nowInSec)</pre>
<div class="block">Transaction for updates on the write path.</div>
</li>
</ul>
<a name="newCompactionTransaction-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.PartitionColumns-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newCompactionTransaction</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/index/transactions/CompactionTransaction.html" title="interface in org.apache.cassandra.index.transactions">CompactionTransaction</a>&nbsp;newCompactionTransaction(<a href="../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                                                      <a href="../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;partitionColumns,
                                                      int&nbsp;versions,
                                                      int&nbsp;nowInSec)</pre>
<div class="block">Transaction for use when merging rows during compaction</div>
</li>
</ul>
<a name="newCleanupTransaction-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.PartitionColumns-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newCleanupTransaction</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/index/transactions/CleanupTransaction.html" title="interface in org.apache.cassandra.index.transactions">CleanupTransaction</a>&nbsp;newCleanupTransaction(<a href="../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                                                <a href="../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;partitionColumns,
                                                int&nbsp;nowInSec)</pre>
<div class="block">Transaction for use when removing partitions during cleanup</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecondaryIndexManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/index/SecondaryIndexBuilder.html" title="class in org.apache.cassandra.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/index/TargetParser.html" title="class in org.apache.cassandra.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/index/SecondaryIndexManager.html" target="_top">Frames</a></li>
<li><a href="SecondaryIndexManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2016 The Apache Software Foundation</small></p>
</body>
</html>
