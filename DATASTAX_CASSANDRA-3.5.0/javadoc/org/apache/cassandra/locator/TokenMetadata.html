<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Wed Apr 13 18:09:36 UTC 2016 -->
<title>TokenMetadata (apache-cassandra API)</title>
<meta name="date" content="2016-04-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TokenMetadata (apache-cassandra API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":42,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":9,"i13":9,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":42,"i29":10,"i30":10,"i31":10,"i32":42,"i33":10,"i34":10,"i35":42,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":9,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenMetadata.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/locator/SnitchProperties.html" title="class in org.apache.cassandra.locator"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/locator/TokenMetadata.html" target="_top">Frames</a></li>
<li><a href="TokenMetadata.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.cassandra.locator</div>
<h2 title="Class TokenMetadata" class="title">Class TokenMetadata</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.cassandra.locator.TokenMetadata</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TokenMetadata</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator">TokenMetadata.Topology</a></span></code>
<div class="block">Tracks the assignment of racks and endpoints in each datacenter for all the "normal" endpoints
 in this TokenMetadata.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/IPartitioner.html" title="interface in org.apache.cassandra.dht">IPartitioner</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#partitioner">partitioner</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#TokenMetadata--">TokenMetadata</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addBootstrapToken-org.apache.cassandra.dht.Token-java.net.InetAddress-">addBootstrapToken</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.net.InetAddress&nbsp;endpoint)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addBootstrapTokens-java.util.Collection-java.net.InetAddress-">addBootstrapTokens</a></span>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                  java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addLeavingEndpoint-java.net.InetAddress-">addLeavingEndpoint</a></span>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#addMovingEndpoint-org.apache.cassandra.dht.Token-java.net.InetAddress-">addMovingEndpoint</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Add a new moving endpoint</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cachedOnlyTokenMap--">cachedOnlyTokenMap</a></span>()</code>
<div class="block">Return a cached TokenMetadata with only tokenToEndpointMap, i.e., the same as cloneOnlyTokenMap but
 uses a cached copy that is invalided when the ring changes, so in the common case
 no extra locking is required.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#calculatePendingRanges-org.apache.cassandra.locator.AbstractReplicationStrategy-java.lang.String-">calculatePendingRanges</a></span>(<a href="../../../../org/apache/cassandra/locator/AbstractReplicationStrategy.html" title="class in org.apache.cassandra.locator">AbstractReplicationStrategy</a>&nbsp;strategy,
                      java.lang.String&nbsp;keyspaceName)</code>
<div class="block">Calculate pending ranges according to bootsrapping and leaving nodes.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#clearUnsafe--">clearUnsafe</a></span>()</code>
<div class="block">used by tests</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneAfterAllLeft--">cloneAfterAllLeft</a></span>()</code>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave operations have finished.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneAfterAllSettled--">cloneAfterAllSettled</a></span>()</code>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave, and move operations have finished.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneOnlyTokenMap--">cloneOnlyTokenMap</a></span>()</code>
<div class="block">Create a copy of TokenMetadata with only tokenToEndpointMap.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneWithNewPartitioner-org.apache.cassandra.dht.IPartitioner-">cloneWithNewPartitioner</a></span>(<a href="../../../../org/apache/cassandra/dht/IPartitioner.html" title="interface in org.apache.cassandra.dht">IPartitioner</a>&nbsp;newPartitioner)</code>
<div class="block">To be used by tests only (via <code>StorageService.setPartitionerUnsafe</code>).</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#decorateKey-java.nio.ByteBuffer-">decorateKey</a></span>(java.nio.ByteBuffer&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#firstToken-java.util.ArrayList-org.apache.cassandra.dht.Token-">firstToken</a></span>(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
          <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#firstTokenIndex-java.util.ArrayList-org.apache.cassandra.dht.Token-boolean-">firstTokenIndex</a></span>(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
               <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
               boolean&nbsp;insertMin)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getAllEndpoints--">getAllEndpoints</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/utils/BiMultiValMap.html" title="class in org.apache.cassandra.utils">BiMultiValMap</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getBootstrapTokens--">getBootstrapTokens</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.net.InetAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpoint-org.apache.cassandra.dht.Token-">getEndpoint</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.net.InetAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpointForHostId-java.util.UUID-">getEndpointForHostId</a></span>(java.util.UUID&nbsp;hostId)</code>
<div class="block">Return the end-point for a unique host ID</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.net.InetAddress,java.util.UUID&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpointToHostIdMapForReading--">getEndpointToHostIdMapForReading</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpointToTokenMapForReading--">getEndpointToTokenMapForReading</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.UUID</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getHostId-java.net.InetAddress-">getHostId</a></span>(java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Return the unique host ID for an end-point.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getLeavingEndpoints--">getLeavingEndpoints</a></span>()</code>
<div class="block">caller should not modify leavingEndpoints</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getMovingEndpoints--">getMovingEndpoints</a></span>()</code>
<div class="block">Endpoints which are migrating to the new tokens</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getNormalAndBootstrappingTokenToEndpointMap--">getNormalAndBootstrappingTokenToEndpointMap</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/PendingRangeMaps.html" title="class in org.apache.cassandra.locator">PendingRangeMaps</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPendingRanges-java.lang.String-">getPendingRanges</a></span>(java.lang.String&nbsp;keyspaceName)</code>
<div class="block">a mutable map may be returned but caller should not modify it</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPendingRanges-java.lang.String-java.net.InetAddress-">getPendingRanges</a></span>(java.lang.String&nbsp;keyspaceName,
                java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>com.google.common.collect.Multimap&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;,java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPendingRangesMM-java.lang.String-">getPendingRangesMM</a></span>(java.lang.String&nbsp;keyspaceName)</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPredecessor-org.apache.cassandra.dht.Token-">getPredecessor</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPrimaryRangeFor-org.apache.cassandra.dht.Token-">getPrimaryRangeFor</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;right)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPrimaryRangesFor-java.util.Collection-">getPrimaryRangesFor</a></span>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getRingVersion--">getRingVersion</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getSuccessor-org.apache.cassandra.dht.Token-">getSuccessor</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getToken-java.net.InetAddress-">getToken</a></span>(java.net.InetAddress&nbsp;endpoint)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getTokens-java.net.InetAddress-">getTokens</a></span>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator">TokenMetadata.Topology</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getTopology--">getTopology</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#getWriteEndpoints-org.apache.cassandra.dht.Token-java.lang.String-java.util.Collection-">getWriteEndpoints</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.lang.String&nbsp;keyspaceName,
                 java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;naturalEndpoints)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">retained for benefit of old tests</span></div>
</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#invalidateCachedRings--">invalidateCachedRings</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#isLeaving-java.net.InetAddress-">isLeaving</a></span>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#isMember-java.net.InetAddress-">isMember</a></span>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#isMoving-java.net.InetAddress-">isMoving</a></span>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;java.net.InetAddress&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#pendingEndpointsFor-org.apache.cassandra.dht.Token-java.lang.String-">pendingEndpointsFor</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                   java.lang.String&nbsp;keyspaceName)</code>&nbsp;</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#pendingRangeChanges-java.net.InetAddress-">pendingRangeChanges</a></span>(java.net.InetAddress&nbsp;source)</code>&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeBootstrapTokens-java.util.Collection-">removeBootstrapTokens</a></span>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</code>&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeEndpoint-java.net.InetAddress-">removeEndpoint</a></span>(java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeFromMoving-java.net.InetAddress-">removeFromMoving</a></span>(java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Remove pair of token/address from moving endpoints</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>static java.util.Iterator&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#ringIterator-java.util.ArrayList-org.apache.cassandra.dht.Token-boolean-">ringIterator</a></span>(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
            <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
            boolean&nbsp;includeMin)</code>
<div class="block">iterator over the Tokens in the given ring, starting with the token for the node owning start
 (which does not have to be a Token in the ring)</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#sortedTokens--">sortedTokens</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateHostId-java.util.UUID-java.net.InetAddress-">updateHostId</a></span>(java.util.UUID&nbsp;hostId,
            java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Store an end-point to host ID mapping.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalToken-org.apache.cassandra.dht.Token-java.net.InetAddress-">updateNormalToken</a></span>(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                 java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">Update token map with a single token/endpoint pair in normal state.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalTokens-java.util.Collection-java.net.InetAddress-">updateNormalTokens</a></span>(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                  java.net.InetAddress&nbsp;endpoint)</code>&nbsp;</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalTokens-com.google.common.collect.Multimap-">updateNormalTokens</a></span>(com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;endpointTokens)</code>
<div class="block">Update token map with a set of token/endpoint pairs in normal state.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateTopology--">updateTopology</a></span>()</code>
<div class="block">This is called when the snitch properties for many endpoints are updated, it will update
 the topology mappings of any endpoints whose snitch has changed, see CASSANDRA-10238.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateTopology-java.net.InetAddress-">updateTopology</a></span>(java.net.InetAddress&nbsp;endpoint)</code>
<div class="block">This is called when the snitch properties for this endpoint are updated, see CASSANDRA-10238.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="partitioner">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>partitioner</h4>
<pre>public final&nbsp;<a href="../../../../org/apache/cassandra/dht/IPartitioner.html" title="interface in org.apache.cassandra.dht">IPartitioner</a> partitioner</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TokenMetadata--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TokenMetadata</h4>
<pre>public&nbsp;TokenMetadata()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="cloneWithNewPartitioner-org.apache.cassandra.dht.IPartitioner-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneWithNewPartitioner</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cloneWithNewPartitioner(<a href="../../../../org/apache/cassandra/dht/IPartitioner.html" title="interface in org.apache.cassandra.dht">IPartitioner</a>&nbsp;newPartitioner)</pre>
<div class="block">To be used by tests only (via <code>StorageService.setPartitionerUnsafe</code>).</div>
</li>
</ul>
<a name="pendingRangeChanges-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingRangeChanges</h4>
<pre>public&nbsp;int&nbsp;pendingRangeChanges(java.net.InetAddress&nbsp;source)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of nodes bootstrapping into source's primary range</dd>
</dl>
</li>
</ul>
<a name="updateNormalToken-org.apache.cassandra.dht.Token-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNormalToken</h4>
<pre>public&nbsp;void&nbsp;updateNormalToken(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                              java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Update token map with a single token/endpoint pair in normal state.</div>
</li>
</ul>
<a name="updateNormalTokens-java.util.Collection-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNormalTokens</h4>
<pre>public&nbsp;void&nbsp;updateNormalTokens(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                               java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="updateNormalTokens-com.google.common.collect.Multimap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNormalTokens</h4>
<pre>public&nbsp;void&nbsp;updateNormalTokens(com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;endpointTokens)</pre>
<div class="block">Update token map with a set of token/endpoint pairs in normal state.

 Prefer this whenever there are multiple pairs to update, as each update (whether a single or multiple)
 is expensive (CASSANDRA-3831).</div>
</li>
</ul>
<a name="updateHostId-java.util.UUID-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateHostId</h4>
<pre>public&nbsp;void&nbsp;updateHostId(java.util.UUID&nbsp;hostId,
                         java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Store an end-point to host ID mapping.  Each ID must be unique, and
 cannot be changed after the fact.</div>
</li>
</ul>
<a name="getHostId-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostId</h4>
<pre>public&nbsp;java.util.UUID&nbsp;getHostId(java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Return the unique host ID for an end-point.</div>
</li>
</ul>
<a name="getEndpointForHostId-java.util.UUID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointForHostId</h4>
<pre>public&nbsp;java.net.InetAddress&nbsp;getEndpointForHostId(java.util.UUID&nbsp;hostId)</pre>
<div class="block">Return the end-point for a unique host ID</div>
</li>
</ul>
<a name="getEndpointToHostIdMapForReading--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointToHostIdMapForReading</h4>
<pre>public&nbsp;java.util.Map&lt;java.net.InetAddress,java.util.UUID&gt;&nbsp;getEndpointToHostIdMapForReading()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of the endpoint-to-id map for read-only operations</dd>
</dl>
</li>
</ul>
<a name="addBootstrapToken-org.apache.cassandra.dht.Token-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBootstrapToken</h4>
<pre>@Deprecated
public&nbsp;void&nbsp;addBootstrapToken(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                                          java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="addBootstrapTokens-java.util.Collection-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBootstrapTokens</h4>
<pre>public&nbsp;void&nbsp;addBootstrapTokens(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens,
                               java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="removeBootstrapTokens-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeBootstrapTokens</h4>
<pre>public&nbsp;void&nbsp;removeBootstrapTokens(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</pre>
</li>
</ul>
<a name="addLeavingEndpoint-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLeavingEndpoint</h4>
<pre>public&nbsp;void&nbsp;addLeavingEndpoint(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="addMovingEndpoint-org.apache.cassandra.dht.Token-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMovingEndpoint</h4>
<pre>public&nbsp;void&nbsp;addMovingEndpoint(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                              java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Add a new moving endpoint</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - token which is node moving to</dd>
<dd><code>endpoint</code> - address of the moving node</dd>
</dl>
</li>
</ul>
<a name="removeEndpoint-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeEndpoint</h4>
<pre>public&nbsp;void&nbsp;removeEndpoint(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="updateTopology-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTopology</h4>
<pre>public&nbsp;void&nbsp;updateTopology(java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">This is called when the snitch properties for this endpoint are updated, see CASSANDRA-10238.</div>
</li>
</ul>
<a name="updateTopology--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTopology</h4>
<pre>public&nbsp;void&nbsp;updateTopology()</pre>
<div class="block">This is called when the snitch properties for many endpoints are updated, it will update
 the topology mappings of any endpoints whose snitch has changed, see CASSANDRA-10238.</div>
</li>
</ul>
<a name="removeFromMoving-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromMoving</h4>
<pre>public&nbsp;void&nbsp;removeFromMoving(java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block">Remove pair of token/address from moving endpoints</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>endpoint</code> - address of the moving node</dd>
</dl>
</li>
</ul>
<a name="getTokens-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokens</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;getTokens(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="getToken-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getToken</h4>
<pre>@Deprecated
public&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;getToken(java.net.InetAddress&nbsp;endpoint)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="isMember-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMember</h4>
<pre>public&nbsp;boolean&nbsp;isMember(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="isLeaving-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLeaving</h4>
<pre>public&nbsp;boolean&nbsp;isLeaving(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="isMoving-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMoving</h4>
<pre>public&nbsp;boolean&nbsp;isMoving(java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="cloneOnlyTokenMap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneOnlyTokenMap</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cloneOnlyTokenMap()</pre>
<div class="block">Create a copy of TokenMetadata with only tokenToEndpointMap. That is, pending ranges,
 bootstrap tokens and leaving endpoints are not included in the copy.</div>
</li>
</ul>
<a name="cachedOnlyTokenMap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cachedOnlyTokenMap</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cachedOnlyTokenMap()</pre>
<div class="block">Return a cached TokenMetadata with only tokenToEndpointMap, i.e., the same as cloneOnlyTokenMap but
 uses a cached copy that is invalided when the ring changes, so in the common case
 no extra locking is required.

 Callers must *NOT* mutate the returned metadata object.</div>
</li>
</ul>
<a name="cloneAfterAllLeft--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneAfterAllLeft</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cloneAfterAllLeft()</pre>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave operations have finished.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new token metadata</dd>
</dl>
</li>
</ul>
<a name="cloneAfterAllSettled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cloneAfterAllSettled</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</a>&nbsp;cloneAfterAllSettled()</pre>
<div class="block">Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave, and move operations have finished.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new token metadata</dd>
</dl>
</li>
</ul>
<a name="getEndpoint-org.apache.cassandra.dht.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpoint</h4>
<pre>public&nbsp;java.net.InetAddress&nbsp;getEndpoint(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</pre>
</li>
</ul>
<a name="getPrimaryRangesFor-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrimaryRangesFor</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;&nbsp;getPrimaryRangesFor(java.util.Collection&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;tokens)</pre>
</li>
</ul>
<a name="getPrimaryRangeFor-org.apache.cassandra.dht.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrimaryRangeFor</h4>
<pre>@Deprecated
public&nbsp;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;getPrimaryRangeFor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;right)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="sortedTokens--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortedTokens</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;sortedTokens()</pre>
</li>
</ul>
<a name="getPendingRangesMM-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingRangesMM</h4>
<pre>public&nbsp;com.google.common.collect.Multimap&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;,java.net.InetAddress&gt;&nbsp;getPendingRangesMM(java.lang.String&nbsp;keyspaceName)</pre>
</li>
</ul>
<a name="getPendingRanges-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingRanges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/PendingRangeMaps.html" title="class in org.apache.cassandra.locator">PendingRangeMaps</a>&nbsp;getPendingRanges(java.lang.String&nbsp;keyspaceName)</pre>
<div class="block">a mutable map may be returned but caller should not modify it</div>
</li>
</ul>
<a name="getPendingRanges-java.lang.String-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingRanges</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&gt;&nbsp;getPendingRanges(java.lang.String&nbsp;keyspaceName,
                                                     java.net.InetAddress&nbsp;endpoint)</pre>
</li>
</ul>
<a name="calculatePendingRanges-org.apache.cassandra.locator.AbstractReplicationStrategy-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculatePendingRanges</h4>
<pre>public&nbsp;void&nbsp;calculatePendingRanges(<a href="../../../../org/apache/cassandra/locator/AbstractReplicationStrategy.html" title="class in org.apache.cassandra.locator">AbstractReplicationStrategy</a>&nbsp;strategy,
                                   java.lang.String&nbsp;keyspaceName)</pre>
<div class="block">Calculate pending ranges according to bootsrapping and leaving nodes. Reasoning is:

 (1) When in doubt, it is better to write too much to a node than too little. That is, if
 there are multiple nodes moving, calculate the biggest ranges a node could have. Cleaning
 up unneeded data afterwards is better than missing writes during movement.
 (2) When a node leaves, ranges for other nodes can only grow (a node might get additional
 ranges, but it will not lose any of its current ranges as a result of a leave). Therefore
 we will first remove _all_ leaving tokens for the sake of calculation and then check what
 ranges would go where if all nodes are to leave. This way we get the biggest possible
 ranges with regard current leave operations, covering all subsets of possible final range
 values.
 (3) When a node bootstraps, ranges of other nodes can only get smaller. Without doing
 complex calculations to see if multiple bootstraps overlap, we simply base calculations
 on the same token ring used before (reflecting situation after all leave operations have
 completed). Bootstrapping nodes will be added and removed one by one to that metadata and
 checked what their ranges would be. This will give us the biggest possible ranges the
 node could have. It might be that other bootstraps make our actual final ranges smaller,
 but it does not matter as we can clean up the data afterwards.

 NOTE: This is heavy and ineffective operation. This will be done only once when a node
 changes state in the cluster, so it should be manageable.</div>
</li>
</ul>
<a name="getPredecessor-org.apache.cassandra.dht.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredecessor</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;getPredecessor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</pre>
</li>
</ul>
<a name="getSuccessor-org.apache.cassandra.dht.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSuccessor</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;getSuccessor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token)</pre>
</li>
</ul>
<a name="getBootstrapTokens--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBootstrapTokens</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/utils/BiMultiValMap.html" title="class in org.apache.cassandra.utils">BiMultiValMap</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&nbsp;getBootstrapTokens()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of the bootstrapping tokens map</dd>
</dl>
</li>
</ul>
<a name="getAllEndpoints--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllEndpoints</h4>
<pre>public&nbsp;java.util.Set&lt;java.net.InetAddress&gt;&nbsp;getAllEndpoints()</pre>
</li>
</ul>
<a name="getLeavingEndpoints--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeavingEndpoints</h4>
<pre>public&nbsp;java.util.Set&lt;java.net.InetAddress&gt;&nbsp;getLeavingEndpoints()</pre>
<div class="block">caller should not modify leavingEndpoints</div>
</li>
</ul>
<a name="getMovingEndpoints--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMovingEndpoints</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</a>&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&gt;&nbsp;getMovingEndpoints()</pre>
<div class="block">Endpoints which are migrating to the new tokens</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>set of addresses of moving endpoints</dd>
</dl>
</li>
</ul>
<a name="firstTokenIndex-java.util.ArrayList-org.apache.cassandra.dht.Token-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstTokenIndex</h4>
<pre>public static&nbsp;int&nbsp;firstTokenIndex(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
                                  <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
                                  boolean&nbsp;insertMin)</pre>
</li>
</ul>
<a name="firstToken-java.util.ArrayList-org.apache.cassandra.dht.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstToken</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;firstToken(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
                               <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start)</pre>
</li>
</ul>
<a name="ringIterator-java.util.ArrayList-org.apache.cassandra.dht.Token-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ringIterator</h4>
<pre>public static&nbsp;java.util.Iterator&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ringIterator(java.util.ArrayList&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;ring,
                                                     <a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;start,
                                                     boolean&nbsp;includeMin)</pre>
<div class="block">iterator over the Tokens in the given ring, starting with the token for the node owning start
 (which does not have to be a Token in the ring)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>includeMin</code> - True if the minimum token should be returned in the ring even if it has no owner.</dd>
</dl>
</li>
</ul>
<a name="clearUnsafe--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearUnsafe</h4>
<pre>public&nbsp;void&nbsp;clearUnsafe()</pre>
<div class="block">used by tests</div>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="pendingEndpointsFor-org.apache.cassandra.dht.Token-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingEndpointsFor</h4>
<pre>public&nbsp;java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;pendingEndpointsFor(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                                                                      java.lang.String&nbsp;keyspaceName)</pre>
</li>
</ul>
<a name="getWriteEndpoints-org.apache.cassandra.dht.Token-java.lang.String-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteEndpoints</h4>
<pre>public&nbsp;java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;getWriteEndpoints(<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&nbsp;token,
                                                                    java.lang.String&nbsp;keyspaceName,
                                                                    java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;naturalEndpoints)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">retained for benefit of old tests</span></div>
</li>
</ul>
<a name="getEndpointToTokenMapForReading--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointToTokenMapForReading</h4>
<pre>public&nbsp;com.google.common.collect.Multimap&lt;java.net.InetAddress,<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>&gt;&nbsp;getEndpointToTokenMapForReading()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an endpoint to token multimap representation of tokenToEndpointMap (a copy)</dd>
</dl>
</li>
</ul>
<a name="getNormalAndBootstrappingTokenToEndpointMap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNormalAndBootstrappingTokenToEndpointMap</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</a>,java.net.InetAddress&gt;&nbsp;getNormalAndBootstrappingTokenToEndpointMap()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a (stable copy, won't be modified) Token to Endpoint map for all the normal and bootstrapping nodes
         in the cluster.</dd>
</dl>
</li>
</ul>
<a name="getTopology--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopology</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator">TokenMetadata.Topology</a>&nbsp;getTopology()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Topology map of nodes to DCs + Racks

 This is only allowed when a copy has been made of TokenMetadata, to avoid concurrent modifications
 when Topology methods are subsequently used by the caller.</dd>
</dl>
</li>
</ul>
<a name="getRingVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRingVersion</h4>
<pre>public&nbsp;long&nbsp;getRingVersion()</pre>
</li>
</ul>
<a name="invalidateCachedRings--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateCachedRings</h4>
<pre>public&nbsp;void&nbsp;invalidateCachedRings()</pre>
</li>
</ul>
<a name="decorateKey-java.nio.ByteBuffer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>decorateKey</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;decorateKey(java.nio.ByteBuffer&nbsp;key)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenMetadata.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/locator/SnitchProperties.html" title="class in org.apache.cassandra.locator"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/locator/TokenMetadata.Topology.html" title="class in org.apache.cassandra.locator"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/locator/TokenMetadata.html" target="_top">Frames</a></li>
<li><a href="TokenMetadata.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2016 The Apache Software Foundation</small></p>
</body>
</html>
